buildscript {
    ext {
        kotlin_version = '1.3.71'
    }

    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.squareup.wire:wire-gradle-plugin:3.1.0'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
        classpath 'com.github.ben-manes:gradle-versions-plugin:0.28.0'
    }
}

apply plugin: "kotlin"
apply plugin: "com.squareup.wire"

repositories {
    jcenter()
}

dependencies {
    api 'com.squareup.wire:wire-runtime:3.1.0'
}

apply from: 'https://raw.githubusercontent.com/ligi/gradle-common/master/versions_plugin_stable_only.gradle'

tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}

tasks.withType(JavaCompile).configureEach {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

